<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="A simple standalone page for easy access to scanned pages of Tibetan texts in the International Dunhuang Project." />
        <meta name="author" content="Nathaniel Grove" />
        <title>Dunhuang Page Reader</title>
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- Third party plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <link href="css/mystyles.css" rel="stylesheet" />
    </head>
    <body id="page-top" class="dhreader">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="container">
                <div class="siteinfo">
                    <a class="navbar-brand js-scroll-trigger pagename" href="#page-top">Dunhuang Text Reader</a>

                    <a class="owner" href="https://thangrove.github.io/">Than Grove</a>
                </div>
                <div id="globalcontrols">
                    <span class="label p116">P116</span>
                        <input type="checkbox" id="cb116" name="cb116" checked="checked"/>
                    <span class="label proxy" title="Not using proxy">Use HTTPS Proxy</span>
                        <input type="checkbox" id="useproxy" name="useproxy" />
                </div>
                <div id="pgcontrols">
                    <span class="prev"><a><<</a></span>
                    <span class="page"><input id="pgnumfield" type="text" name="pgnum" size="10"/></span>
                    <span class="next"><a>>></a></span>
                </div>
                <div id="pgnumber"><label>Image ID #:</label> <span class="num"></span></div>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto my-2 my-lg-0">
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
                        <li class="nav-item totop"><a class="nav-link js-scroll-trigger" href="#page-top">Top &#9650;</a></li>
                        <!--li class="nav-item"><a class="nav-link js-scroll-trigger" href="#portfolio">Portfolio</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#contact">Contact</a></li-->
                    </ul>
                </div>
                <div id="proxyfield">
                    <p>Enter the image proxy URL (URL must contain a place holder
                        <span class="code">__NUM__</span>
                        for the image number):</p>
                    <input id="proxyurl" name="proxyurl" size="100" />
                    <p class="instructions">
                        To use this site online, you must provide a image proxy with https since
                        the International Dunhuang Project only serves images through http:
                        <input type="button" name="setproxy" id="setproxy" value="Set Proxy URL" />
                    </p>
                </div>
            </div>
        </nav>
        <section class="page-section bg-primary" id="pgreader">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="msg"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div id="page">
                            <p class="loadmsg">Loading ... </p>
                            <img src="" id="pgimg"/>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Services section-->
        <section class="page-section" id="about">
            <div class="container">
                <h2 class="text-center mt-0">Dunhuang Text Reader</h2>
                <hr class="divider my-4" />
                <div class="row">
                    <div class="col-lg-12 col-md-6 ">
                        <div class="mt-0">
                            <p class="text-muted mb-4">This simple Javascript site allows one to access scans of Dunhuang texts
                                provided by the <a href="http://idp.bl.uk/" target="_blank">International Dunhuang project</a>
                                (<a href="http://idp.bl.uk/" target="_blank">http://idp.bl.uk/</a>). That site is an valuable resource
                                for scholars of Asian Buddhism in the 8<sup>th</sup>-9<sup>th</sup> century
                                <span class="small">CE</span>. That site however does not provide a viable way for scholars
                                to view the page scans and easily read them. The viewport for the images is too small.
                                This site provides a larger frame within which to easily read the page images. All images
                                are from the IDP.
                            </p>
                            <p class="text-muted mb-4">
                                This simple “app” was written in order to read a particular text,
                                the fifth text within Pelliot 116 (or sometimes considered the fifth and sixth text).
                                For this reasons, the page scans for that text accompany the app and are initially
                                displayed upon load. When the “P116” checkbox is checked, the page number navigation box
                                displays the relative page of that text with page 60 being the first page in the text
                                because it is the fifth text in P116. In the IDP this image has an ID of 221267.
                                If that “P116” checkbox is unchecked, the absolute IDP ID number is displayed. Only the
                                images for Pelliot 116 Text 5 are include in this repo and will display automatically.
                            </p>
                            <p class="text-muted mb-4">
                                If you download or check out this Github repo, you can run this app locally without any
                                further configuration, and if you can get the image numbers for a text, you can display
                                it in this page viewer. However, that is not the case if viewing on line. IDP servers
                                its images through deprecated HTTP and not the more secure HTTPS. Most browsers will
                                either block HTTP images or redirect them to the same URL with HTTPS. This does not work
                                for IDP images. Thus, to run this site on line for texts other than Pelliot 116, one
                                will need to supply an HTTPS image proxy, that takes an image number parameter and return
                                the image through HTTPS. This is set through clicking the other checkbox.
                            </p>
                            <div class="byline">
                                <span class="who">Than Grove</span>
                                <span class="when">February 6, 2021</span>
                                <span class="site"><a href="https://thangrove.github.io/">thangrove.github.io</a></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container"><div class="small text-center text-muted">Copyright © 2020 - Start Bootstrap</div></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script src="js/myscripts.js"></script>
    </body>
</html>
